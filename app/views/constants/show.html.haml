= link_to '', class: 'back preventdefault', onclick: 'history.back();', data: { turbolinks_animate_appear: 'fadein' } do
    = asset 'components/back.svg'

.tools
    .copy{ data: { clipboard_text: @constant.value.to_s } }= asset 'icons/ungroup.svg'



.head-wrapper
    %h2.copy{ data: { clipboard_text: @constant.value.to_s } }
        = @constant.pretty_value
        %span= @constant.unit_of_measurement.sym

.content-wrapper
    %p
        = @constant.name
    - if @constant.wikipedia
        %p= link_to t('cd.learn_more'), @constant.wikipedia, target: '_blank'

    %h3= t 'd.pack'
    .cards
        = link_to @constant.pack, class: 'card', data: { turbolinks_animate_animation: 'fadeout' } do
            .wrapper
                %h3= @constant.pack.category.name
                %p.small
                    %span= @constant.pack.name
            = asset 'components/list/item-open.svg'

    %h3= t 'd.unit_of_measurement'
    .cards
        = link_to @constant.unit_of_measurement, class: 'card', data: { turbolinks_animate_animation: 'fadeout' } do
            .wrapper
                %h2.small= @constant.unit_of_measurement.sym
                %p.small
                    %span= @constant.unit_of_measurement.name
            = asset 'components/list/item-open.svg'

    - if @constant.calculations.where(user_id: current_user.id).any?
        %h3= t 'd.p.calculations'
        .cards
            - @constant.calculations.where(user_id: current_user.id).order('created_at desc').each do |calculation|
                = link_to calculation, class: 'card', data: { turbolinks_animate_animation: 'fadeout' } do
                    .wrapper
                        %h2.small
                            = calculation.result.pretty_value
                            %span= calculation.unit_of_measurement.sym
                        %p.small
                            - if calculation.name.nil? || calculation.name == ''
                                %span= calculation.quantity.name
                            - else
                                %span= calculation.name
                            Â·
                            %span= timeago calculation.created_at
                    = asset 'components/list/item-open.svg'
